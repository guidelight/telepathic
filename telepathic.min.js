!function(r,t,n){"use strict";var e=t.module("guidelight.telepathic",["ngRoute"]);e.provider("tele",["$routeProvider","$locationProvider",function(r,t){var e=!1,i="",o={},a=function(r,t){if(!r||!t)throw Error("can't trim an empty string");for(;"/"===r[0];)r=r.slice(1);for(;"/"===r.slice(-1);)r=r.slice(0,r.length-1);return r},u=function(r){if(!Array.isArray(r))throw Error("makePath only accepts arrays");for(var t="",n=0,e=r.length;e>n;n++)if(r[n]){var i=a(r[n],"/");i&&(t=t+"/"+i)}return t},f=function(r){return r===n||null===r},c=function(t,n,e){if(f(t)||f(n)||f(e)||!Array.isArray(e))throw Error("Telepathic: Incorrect or missing parameters for _defineRoutes");if(o[t]&&o[t]!==n)throw Error("Telepathic: Cannot redfined a feature's namespace");o[t]=n;for(var i=0,a=e.length;a>i;i++)r.when(u([n,e[i].path]),e[i].route)},h=function(t){r.otherwise({redirectTo:t})},s=function(){return e?"":"#!"},l=function(r,t){var n=o[r];if(!n)throw Error("Telepathic: invalid feature name: "+r);var e=[];if("string"==typeof t)e=t.split("/");else if(Array.isArray(t))for(var i=0,a=t.length;a>i;i++)e[i]=t[i]+"";return u([].concat(n,e))};return{html5Mode:function(r){e=r,t.html5Mode(r)},hashPrefix:function(r){i=r,t.hashPrefix(r)},$get:["$location",function(r){return{routes:function(r,t,n){return c(r,t,n),this},defaultRoute:function(r){return h(r),this},features:function(){return o},namespace:function(r){return o[r]},path:function(t,n){return t&&r.path(l(t,n)),r.path()},link:function(r,t){return s()+l(r,t)}}}]}}])}(window,window.angular);