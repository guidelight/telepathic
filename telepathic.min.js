!function(r,n,t){"use strict";var e=n.module("guidelight.telepathic",["ngRoute"]);e.provider("tele",["$routeProvider","$locationProvider",function(r,n){var e=!1,o="",i={},u=[],a="",f=function(r,n){if(!r||!n)throw Error("can't trim an empty string");for(;"/"===r[0];)r=r.slice(1);for(;"/"===r.slice(-1);)r=r.slice(0,r.length-1);return r},c=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&s(r[t])&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return n.length?"?"+n.join("&"):""},h=function(r){return r===t||null===r},s=function(r){return""!==r&&null!==r&&r!==t&&0/0!==r},l=function(r){if(!Array.isArray(r))throw Error("makePath only accepts arrays");for(var n="",t="",e=0,o=r.length;o>e;e++)if(s(r[e])){if("object"==typeof r[e])return n+c(r[e]);t=f(r[e]+"","/"),t&&(n=n+"/"+t)}return n},p=function(n,t,e){if(h(n)||h(t)||h(e)||!Array.isArray(e))throw Error("Telepathic: Incorrect or missing parameters for _defineRoutes");if(i[n]&&i[n]!==t)throw Error("Telepathic: Cannot redfined a feature's namespace");i[n]=t;for(var o=0,a=e.length;a>o;o++){var f=l([t,e[o].path]);u.push(f),r.when(f,e[o].route)}},d=function(n){r.otherwise({redirectTo:n})},v=function(){return e?"":"#!"},g=function(r){var n=[];if("string"==typeof r)n=r.split("/");else if(Array.isArray(r))for(var t=0,e=r.length;e>t;t++)n[t]=r[t]+"";return n},m=function(r,n){var t=i[r];if(!t)throw Error("Telepathic: invalid feature name: "+r);return l([].concat(t,g(n)))};return{html5Mode:function(r){e=r,n.html5Mode(r)},hashPrefix:function(r){o=r,n.hashPrefix(r)},serverBase:function(r){a=r},$get:["$location",function(r){return{routes:function(r,n,t){return p(r,n,t),this},defaultRoute:function(r){return d(r),this},features:function(){return i},namespace:function(r){return i[r]},definedPaths:function(){return u},path:function(n,t){return n&&r.path(m(n,t)),r.path()},link:function(r,n){return v()+m(r,n)},apiPath:function(r,n,t){return l([].concat(a,r,g(n),t))}}}]}}])}(window,window.angular);