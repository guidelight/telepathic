!function(r,t,n){"use strict";var e=t.module("guidelight.telepathic",["ngRoute"]);e.provider("tele",["$routeProvider","$locationProvider",function(r,t){var e=!1,o="",i={},a="",u=function(r,t){if(!r||!t)throw Error("can't trim an empty string");for(;"/"===r[0];)r=r.slice(1);for(;"/"===r.slice(-1);)r=r.slice(0,r.length-1);return r},f=function(r){var t=[];for(var n in r)r.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(r[n]));return"?"+str.join("&")},c=function(r){if(!Array.isArray(r))throw Error("makePath only accepts arrays");for(var t="",n=0,e=r.length;e>n;n++)if(r[n]){if("object"==typeof r[n]){var o=f(r[n]);t+=o;break}var i=u(r[n],"/");i&&(t=t+"/"+i)}return t},s=function(r){return r===n||null===r},h=function(t,n,e){if(s(t)||s(n)||s(e)||!Array.isArray(e))throw Error("Telepathic: Incorrect or missing parameters for _defineRoutes");if(i[t]&&i[t]!==n)throw Error("Telepathic: Cannot redfined a feature's namespace");i[t]=n;for(var o=0,a=e.length;a>o;o++)r.when(c([n,e[o].path]),e[o].route)},l=function(t){r.otherwise({redirectTo:t})},p=function(){return e?"":"#!"},d=function(r,t){var n=i[r];if(!n)throw Error("Telepathic: invalid feature name: "+r);var e=[];if("string"==typeof t)e=t.split("/");else if(Array.isArray(t))for(var o=0,a=t.length;a>o;o++)e[o]=t[o]+"";return c([].concat(n,e))};return{html5Mode:function(r){e=r,t.html5Mode(r)},hashPrefix:function(r){o=r,t.hashPrefix(r)},serverBase:function(r){a=r},$get:["$location",function(r){return{routes:function(r,t,n){return h(r,t,n),this},defaultRoute:function(r){return l(r),this},features:function(){return i},namespace:function(r){return i[r]},path:function(t,n){return t&&r.path(d(t,n)),r.path()},link:function(r,t){return p()+d(r,t)},apiPath:function(r,t,n){return c([].concat(a,r,t,n))}}}]}}])}(window,window.angular);